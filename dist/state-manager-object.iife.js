var StateManagerObject=function(t,e){"use strict";function i(e,i){t.call(this,i),this.checkInitialState(e)}return t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._state={},i.prototype._prevState=null,i.prototype.checkInitialState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e.validationkit.isObject(t)&&(this._state=t)},i.prototype.updateState=function(t){if(e.validationkit.isObject(t)){var i=Object.assign({},this.getState()),a=Object.assign({},i,t);return!e.validationkit.isEqual(i,a)&&(this._prevState=i,this._state=a,this.emit("update",[this.getState(),this.getPrevState()]),!0)}},i.prototype.subscribe=function(t,i){e.validationkit.isFunction(i)&&(e.validationkit.isString(t)||e.validationkit.isArray(t))&&this.on("update",(function(a,o){var r=e.objectkit.getProp(o,t),n=e.objectkit.getProp(a,t);e.validationkit.isEqual(n,r)||i(n,r)}))},i.prototype.getState=function(){return this._state},i.prototype.getPrevState=function(){return this._prevState},i}(EventEmitterObject,Basekits);
