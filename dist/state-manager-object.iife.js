var StateManagerObject=function(t,e){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=a(t),n=a(e),i=r.default.typekit,u=r.default.objectkit,o=r.default.validationkit;return{create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!i.isObject(t))throw new Error("Invalid initial state.");var e=n.default.create(),a={state:t,prevState:null};function r(t){if(!i.isObject(t))throw new Error("Invalid payload.");var r=f(),n=Object.assign({},r,t);o.isEqual(r,n)||(a.state=n,a.prevState=r,e.emit("update",[a.state,a.prevState]))}function c(t,a){e.on("update",(function(e,r){var n=u.getProp(e,t),o=u.getProp(r,t);i.isEqual(n,o)||a(n,o)}))}function f(){return a.state}function s(){return a.prevState}return{getState:f,getPrevState:s,updateState:r,subscribe:c}}}}(Basekits,EventEmitterObject);
