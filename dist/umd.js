(function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.StateManagerObject=a()}})(function(){return function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b}()({1:[function(a,b){function c(){}c.prototype.events={},c.prototype.eventsWillBeFiredOnce={},c.prototype.isObject=function(b){return"[object Object]"===Object.prototype.toString.call(b)},c.prototype.on=function(f,a,b=null){if("function"!=typeof a||"string"!=typeof f)return!1;this.events.hasOwnProperty(f)||(this.events[f]=[]),this.eventsWillBeFiredOnce.hasOwnProperty(f)||(this.eventsWillBeFiredOnce[f]=[]);const c=this.isObject(b)?b:{once:!1},d=this.events[f].push(a);return c.once&&!0===c.once&&this.eventsWillBeFiredOnce[f].push(d-1),!0},c.prototype.once=function(c,a){this.on(c,a,{once:!0})},c.prototype.emit=function(e,f=[]){if(!this.events.hasOwnProperty(e)){if("error"==e){const b=f instanceof Error?f:new Error("Unhandled error.");throw b}return!1}const a=Array.isArray(f)?f:[f];for(let b=0;b<this.events[e].length;b++)this.events[e][b].apply(this,a);if(this.eventsWillBeFiredOnce.hasOwnProperty(e))for(var b=0;b<this.eventsWillBeFiredOnce[e].length;b++)this.removeListener(e,this.eventsWillBeFiredOnce[e][b]);return!0},c.prototype.removeListener=function(c,a){this.events[c].splice(a,1)},c.prototype.removeListeners=function(b){return"string"==typeof b&&!!this.events.hasOwnProperty(b)&&(this.events[b]=[],this.eventsWillBeFiredOnce.hasOwnProperty(b)&&(this.eventsWillBeFiredOnce[b]=[]),!0)},c.prototype.flush=function(){this.events={},this.eventsWillBeFiredOnce={}},b.exports=c},{}],2:[function(a,b){function c(){}const d=Object.assign({},a("./methods/type"),a("./methods/formatting"),a("./methods/array"),a("./methods/object"),a("./methods/functions")),e=Object.keys(d);for(var f=0;f<e.length;f++)c.prototype[e[f]]=d[e[f]];b.exports=new c},{"./methods/array":3,"./methods/formatting":4,"./methods/functions":5,"./methods/object":6,"./methods/type":7}],3:[function(a,b){b.exports={removeDuplicates:function(d){return d.filter(function(a,b){return d.indexOf(a)===b})},sortItemsBy:function(e,f,g="asc"){let h=null;if(this.isArray(f))h="__"+f.join("_"),e=e.map(function(b){return b[h]=this.getProp(b,f),b}.bind(this));else if(this.isString(f))h=f;else return e;return e.sort(function(c,d){const a=c[h],b=d[h];return"desc"==g?a>b?-1:b>a?1:0:(g="asc")?a>b?1:b>a?-1:0:a>b?1:b>a?-1:0})}}},{}],4:[function(a,b){b.exports={isEqual:function(j,a){if(j===a)return!0;if(null===j||null===a)return!1;const b=this.getType(j),c=this.getType(a);if(b!=c)return!1;switch(b){case"object":const k=Object.keys(j),d=Object.keys(a),e=k.length;if(e!==d.length)return!1;for(let b=0;b<e;b++){const c=k[b];if(-1===d.indexOf(c))return!1;if(!this.isEqual(j[c],a[c]))return!1}return!0;break;case"array":const f=j.length;if(f!==a.length)return!1;for(let b=0;b<f;b++)if(!this.isEqual(j[b],a[b]))return!1;return!0;break;case"error":const c=this.objectifyError(j),g=this.objectifyError(a);return this.isEqual(c,g);break;case"date":return j.getTime()===a.getTime();break;case"undefined":return!0;break;case"number":case"nan":case"string":case"boolean":case"domelement":return j===a;break;case"regexp":return j.toString()===a.toString();break;default:return!1;}},objectifyError:function(d){const a=JSON.stringify(d,Object.getOwnPropertyNames(d)),b=JSON.parse(a);return b.stack=b.stack.split(/[\n]/g),b},stringifyError:function(b){return JSON.stringify(this.objectifyError(b))}}},{}],5:[function(a,b){b.exports={waitForIt:function(f,a,b=300,c=1e4){let d=setInterval(function(){!0===f.call()&&(clearInterval(d),a.call())},b);setTimeout(function(){d&&(clearInterval(d),a.call(null,!1))},c)},throttle:function(f,a,b){let c=!0,g=!0;if("function"!=typeof f)throw new TypeError("Invalid debounce function.");return this.isObject(b)&&(c="leading"in b?!!b.leading:c,g="trailing"in b?!!b.trailing:g),this.debounce(f,a,{leading:c,maxWait:a,trailing:g})},debounce:function(x,y,a){function c(a){let b=m,c=z;return m=z=void 0,E=a,B=x.apply(c,b),B}function d(b){return E=b,C=setTimeout(g,y),F?c(b):B}function e(b){var a=Math.min;let c=b-D,d=b-E,e=y-c;return G?a(e,A-d):e}function f(b){let a=b-D,c=b-E;return void 0===D||a>=y||0>a||G&&c>=A}function g(){let b=Date.now();return f(b)?h(b):void(C=setTimeout(g,e(b)))}function h(b){return(C=void 0,H&&m)?c(b):(m=z=void 0,B)}function i(){void 0!==C&&clearTimeout(C),E=0,m=D=z=C=void 0}function j(){return void 0===C?B:h(Date.now())}function k(){let b=Date.now(),a=f(b);if(m=arguments,z=this,D=b,a){if(void 0===C)return d(D);if(G)return C=setTimeout(g,y),c(D)}return void 0===C&&(C=setTimeout(g,y)),B}var l=Math.max;let m,z,A,B,C,D,E=0,F=!1,G=!1,H=!0;if("function"!=typeof x)throw new TypeError("Invalid debounce function.");return y=parseFloat(y)||0,this.isObject(a)&&(F=!!a.leading,G="maxWait"in a,A=G?l(parseFloat(a.maxWait)||0,y):A,H="trailing"in a?!!a.trailing:H),k.cancel=i,k.flush=j,k}}},{}],6:[function(a,b){b.exports={getProp:function(f,g,e=void 0){if(!this.isObject(f))return e;if(this.isString(g))g=[g];else if(!this.isArray(g))return e;if(1>g.length)return e;let c=0;for(const a=g.length;this.isObject(f)&&c<a;)f=f[g[c]],c+=1;return this.isUndefined(f)?e:f},removeProp:function(e,a){return Object.keys(a).reduce(function(b,c){return c!=e&&(b[c]=a[c]),b},{})}}},{}],7:[function(a,b){b.exports={getType:function(b){return this.isObject(b)?"object":this.isArray(b)?"array":this.isPromise(b)?"promise":this.isError(b)?"error":this.isDate(b)?"date":this.isNull(b)?"null":this.isUndefined(b)?"undefined":this.isFunction(b)?"function":this.isNumber(b)?"number":this.isNan(b)?"nan":this.isRegExp(b)?"regexp":this.isString(b)?"string":this.isBoolean(b)?"boolean":this.isDOMElement(b)?"domelement":"none"},isString:function(b){return"string"==typeof b},isObject:function(b){return"[object Object]"===Object.prototype.toString.call(b)},isArray:function(b){return Array.isArray(b)},isPromise:function(b){return!!(b&&"function"==typeof b.then)},isError:function(b){return b instanceof Error},isDate:function(b){return b instanceof Date},isFunction:function(b){return"function"==typeof b},isNull:function(b){return null===b},isUndefined:function(b){return"undefined"==typeof b},isNumber:function(b){return"number"==typeof b&&!1===Number.isFinite(b)},isNan:function(b){return this.isNumber(b)&&isNaN(b)},isRegExp:function(b){return b instanceof RegExp},isBoolean:function(b){return!0===b||!1===b},isDOMElement:function(){return!!(node&&(node.nodeName||node.prop&&node.attr&&node.find))}}},{}],8:[function(a,b){function c(){}const d=a("event-emitter-object"),e=a("my-little-lodash");c.prototype.utility=e,c.prototype.state=null,c.prototype.prevState=null,c.prototype.updateState=function(a){if(!this.utility.isObject(a))return;if(this.utility.isNull(this.getState()))throw new Error("Please call setInitialState first.");const b=Object.assign({},this.getState()),c=Object.assign({},b,a);this.utility.isEqual(b,c)||(this.emit("beforeUpdate",[b,c]),this.prevState=b,this.state=c,this.emit("afterUpdate",[this.getState(),this.getPrevState()]))},c.prototype.subscribe=function(a,b){const c=this;c.utility.isString(a)&&c.utility.isFunction(b)&&c.on("afterUpdate",function(d,e){const f=c.utility.getProp(e,a),g=c.utility.getProp(d,a);c.utility.isEqual(g,f)||b(g,f)})},c.prototype.getState=function(){return this.state},c.prototype.getPrevState=function(){return this.prevState},c.prototype.setInitialState=function(a){this.utility.isObject(a)&&this.utility.isNull(this.getState())&&(this.state=a)},c.prototype=Object.assign({},c.prototype,d.prototype),b.exports=c},{"event-emitter-object":1,"my-little-lodash":2}]},{},[8])(8)});